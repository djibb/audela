#
## @file satellites_orbit.tcl
#  @brief Construction de l'image SVG et de la page HTML pour l'orbite d'un satellite
#  @author Raymond Zachantke
#  $Id: satellites_orbit.tcl 13233 2016-02-20 14:43:03Z rzachantke $
#

#------------------------------------------------------------
#  brief   renvoie le code SVG des grilles de coordonnées
#  param   width largeur de la viewbox
#  param   height hauteur de la viewbox
#  param   coef coefficient multiplicateur
#  return  code htm des grilles
#
proc ::satellites::getGrid { width height coef } {

   set htm ""

   #--   grille des latitudes
   append htm "<use xlink:href=\"#lat\" class=\"ref\"/>"
   for {set k -60} {$k < 90} {incr k 30} {
      #--   translation a partir de l'equateur
      set dy [expr { int($k*$coef) }]
      if {$k != 0} {
         append htm "<use xlink:href=\"#lat\" class=\"grid\" transform=\"translate(0,$dy)\"/>"
      }
   }

   #--   grille des longitudes
   append htm "<use xlink:href=\"#mer\" class=\"ref\"/>"
   for {set k 0} {$k <= 360} {incr k 30} {
      #--translation a partir de greenwich
      set dx [expr { int($k*$coef-360) }]
      append htm "<use xlink:href=\"#mer\" class=\"grid\" transform=\"translate($dx,0)\"/>"
   }

   return $htm
}

#------------------------------------------------------------
#  brief    renvoie le code SVG du texte des coordonnées
#  param    width largeur de la viewbox
#  param    height hauteur de la viewbox
#  param    coef coefficient multiplicateur
#  param    exc excentrement de la carte
#  return   code htm des grilles
#
proc ::satellites::getText { width height coef exc } {
   global caption

   set htm ""
   #--   texte W E
   append htm "<text x=\"311\" y=\"14\">$caption(satellites,ouest)</text>"
   append htm "<text x=\"371\" y=\"14\">$caption(satellites,est)</text>"

   #--   graduations des longitudes
   #--   distance du bord
   set dy 6
   for {set n 0} {$n <= 345} {incr n 30} {
      set x [expr { int(fmod(($width/2-$exc)+$n*$coef,$width)) }]
      #--   marque
      if {$n >= 180} {
         set marque [expr { int(360-$n) }]
      } else {
         set marque $n
      }
      append htm "<text x=\"$x\" y=\"[expr { $dy+8 }]\">$marque</text>"
      append htm "<text x=\"$x\" y=\"[expr { $height-$dy }]\">$marque</text>"
   }

   #--   graduations des latitudes
   for {set n -60} {$n <=60} {incr n 30} {
      set dx 15  ; #--distance du bord
      set y0 [expr { (90-$n)*$coef+3 }]
      append htm "<text x=\"$dx\" y=\"$y0\">$n</text>"
      append htm "<text x=\"[expr { $width-$dx }]\" y=\"$y0\">$n</text>"
   }

   return $htm
}

#------------------------------------------------------------
#  brief    renvoie le code SVG de l'orbite d'un satellites
#  param    revperday (nb de tours/jour)
#  param    tsyn temps synodique
#  param    coef
#  param    date date TU
#  param    speed vitesse de simulation
#  return   résultats des calculs
#
proc ::satellites::getSatCoord { revperday tsyn coef date speed } {

   package require BLT 2.4

   #--   Vx contient les coordonnees canvas de la longitude
   #--   Vy contient les coordonnees canvas de la latitude
   blt::vector create Vx Vy -watchunset 1

   #-- specifie les parametres pour mc_date2listdates
   set nbvalue 100
   if {$revperday < 0.9} {
      set nbvalue 300
   } elseif {$revperday >= 0.9 && $revperday < 1.1} {
      #--   satellites geostationnaires
      set nbvalue 1
   }

   #-- specifie les parametres pour mc_date2listdates
   set step [expr { $tsyn*1.1/($nbvalue+1) }]
   set listeDate [mc_date2listdates $date $step $nbvalue]
   #--  duree (en sec) de l'animation
   set dt [expr { [lindex $listeDate end]-[lindex $listeDate 0] }]
   set dur [format "%0.1f" [expr { $dt*86400/$speed }]]

   set len [llength $listeDate]
   for {set k 0} {$k < $len} {incr k} {
      set datejd [lindex $listeDate $k]
      #--   Extrait les coordonnees GPS du satellite
      set gpsSat [lindex [satel_ephem2 $datejd] 7]
      set res [::satellites::getXYCoord $gpsSat]
      if {$res ne ""} {
         lassign $res x y
         if {$k == 0} {
            #--   inconditionnel
            Vx set $x
            Vy set $y
         } else {
            set dx [expr { abs($x-$Vx(end)) }]
            set dy [expr { abs($y-$Vy(end)) }]
            if {$dx > 2 || $dy > 2} {
               Vx append $x
               Vy append $y
            }
         }
      }
   }

   #--   proportionne les coordonnees a la carte
   Vx expr { Vx*$coef }
   Vy expr { Vy*$coef }

   set longueur [Vx length]
   if {$longueur == 0} {
      #--   sortie si pas de valeur dans les vecteurs
   } elseif {$longueur == 1} {
      #--   satellites quasi stationnaire
      set satPath [::satellites::buildPath $Vx(:) $Vy(:)]
   } else {
      #--   chemin pour une fonction uniformement croissante ou decroissante
      set satPath [::satellites::buildPath $Vx(:) $Vy(:)]
      #--   examen du chemin
      set len [Vx length]
      set liste [list]
      #--   Examen des fronts
      for {set j 1} {$j < $len} {incr j} {
         set prev [expr { $j-1 }]
         set delta [expr { $Vx($j)-$Vx($prev) }]
         if {360< [expr { abs($delta) }]} {
            #::console::disp "index $prev $Vx($prev) $j $Vx($j) delta $delta\n"
            lappend liste $j
         }
      }

      #--
      foreach index [lsort -decreasing $liste] {
         set satPath [linsert $satPath [expr { $index }] "M"]
      }
   }
   #--   ajoute un M en tete du chemin
   set satPath [linsert $satPath 0 "M"]

   #--   formatage des temps limites de calcul de l'orbite
   set timeStart [lindex [split [mc_date2iso8601 [lindex $listeDate 0]] "."] 0]
   set timeEnd  [lindex [split [mc_date2iso8601 [lindex $listeDate end]] "."] 0]

   set result [list $satPath $dur $timeStart $timeEnd]

   blt::vector destroy Vx Vy

   return $result
}

#------------------------------------------------------------
#  brief   calcule les coordonnées canvas de la position GPS
#  details proc appelée par getSatCoord
#  param   gps coordonnées GPS
#  return  coordonnées canvas
#
proc ::satellites::getXYCoord { gps } {

   lassign $gps -> lon sens lat
   #--   Passe en longitude Est
   if {$sens eq "W"} {
       set lon1 [expr { 360-$lon }]
   } else {
       set lon1 [expr { $lon }]
   }
   set x [expr { fmod($lon1-10+180,360) }]
   set y [expr { (90-$lat) }]

   return [list $x $y]
}

#------------------------------------------------------------
#  brief    formate les coordonnées du chemin
#  details  appelée par getSatCoord
#  param    lx position x sur la carte
#  param    ly position y sur la carte
#  return   chemin (path) pour SVG
#
proc ::satellites::buildPath { lx ly } {

   set l [llength $lx]
   set path [list]
   for {set k 0} {$k < $l} {incr k} {
      set x [format "%0.1f" [lindex $lx $k]]
      set y [format "%0.1f" [lindex $ly $k]]
      if {[expr { fmod($x,1) }] ==0} {
         set x [expr { int($x) }]
      }
      if {[expr { fmod($y,1) }] == 0} {
         set y [expr { int($y) }]
      }
      append path " ${x},${y}"
   }

   return "$path"
}

#------------------------------------------------------------
#  brief    calcule la position du Soleil ou de la Lune
#  param    astre nom de l'astre (Sun Moon)
#  param    date date TU
#  param    gpsObs position gps de l'observateur
#  return   position sur la mappemonde
#
proc ::satellites::getAstre { astre date gpsObs } {

   set coord ""
   set pathTerm ""
   set date [mc_date2ymdhms $date]

   if {$astre eq "Sun"} {
      set result [mc_ephem {Sun} [list $date] {OBJENAME RA DEC HA} -topo $gpsObs -equinox J2000.0]
   } else {
      set result [mc_ephem {Moon} [list $date] {OBJENAME RA DEC HA PHASE} -topo $gpsObs -equinox J2000.0]
   }

   if {[lindex $result 2] !=0} {
      lassign [lindex $result 0] -> ra dec ha phase
      lassign $gpsObs -> longitude sens latitude

      if {$sens eq "E"} {
         set lon [expr { $longitude-$ha }]
      } else {
         set lon [expr { -$longitude-$ha }]
      }
      if {$lon < 0} {
         set lon [expr { $lon+360 }]
      }

      set lat [expr { -$dec }]
      set x [expr { int(fmod(180+$lon-10,360)) }]
      set y [expr { int(fmod(90+$lat,180)) }]
      set coord [list $x $y]

      if {$phase ne ""} {
         set fractIllumin [format "%0.2f" [expr { (1+cos([mc_angle2rad $phase]))/2 }]]
         lappend coord $fractIllumin
      }
   }

   if {$astre eq "Sun"} {
      set pathTerm [::satellites::computeTerminator $lon $lat]
   }

   return [list $coord $pathTerm]
}

#------------------------------------------------------------
#  brief    calcule l'angle horaire du jour par rapport au Soleil
#  param    sunmer longitude
#  param    latsun latitude du soleil
#  return   le chemin du terminateur sur la carte
#
proc ::satellites::computeTerminator { sunmer latsun } {

   package require BLT 2.4
   blt::vector create Vset Vlat -watchunset 1

   #--   cherche la latitude sans coucher de soleil
   #--   omega : angle horaire du sunset/sunrise -> 180° ->cosOmega = -1
   #-- l'angle horaire vaut 180° et le cos(-180°)=-1
   set pi [expr 4*atan(1)]
   set noSunSet [expr { atan(-1./tan($latsun*$pi/180))*180/$pi }]
   if {$noSunSet < 0} {
      set inverse 1
   }

   for {set haSun -180} {$haSun <=180} {incr haSun 2} {
      Vset append $haSun
      Vlat append [getSunSetRise $haSun $latsun]
   }

   #--   Coordonnees dans la grille
   Vlat expr { 90-Vlat }
   Vset expr { Vset+$sunmer-10 }
   Vset expr { Vset % 360 }

   #--   Tri ascendant conjoint
   Vset sort Vlat

   set path [list]
   set n [Vlat length]
   for {set k 0} {$k < $n} {incr k} {
      if {[expr { fmod($Vset($k),1) }] != "0"} {
         set x [format "%0.1f" $Vset($k)]
      } else {
         set x [expr { int($Vset($k)) }]
      }
      if {[expr { fmod($Vlat($k),1) }] != "0"} {
         set y [format "%0.1f" $Vlat($k)]
      } else {
         set y [expr { int($Vlat($k)) }]
      }
      lappend path "${x},${y}"
   }

   #--   interpole aux extremites
   lassign [split [lindex $path 0] ","] x1 y1
   lassign [split [lindex $path end] ","] xlast ylast
   set plagex [expr { 360+$x1-$xlast+1 }]
   set plagey [expr { $y1-$ylast+1 }]
   set y0 [format "%0.1f" [expr { $y1-1.*$plagey*$x1/$plagex }]]
   if {[info exists inverse] ==0} {
      set ystart 360
   } else {
      set ystart 0
   }
   set path [linsert $path 0 M 0,$ystart 0,$y0]
   if {$xlast != 360} {
      lappend path "360,$y0"
   }
   lappend path V $ystart Z

   blt::vector destroy Vlat Vset
   #::console::disp "term $path\n"

   return $path
}

#------------------------------------------------------------
#  brief    calcule l'angle horaire du jour par rapport au Soleil
#  details  proc appelée par computeTerminator
#  param    haSunDeg angle horaire
#  param    latSunDeg latitude du Soleil en degrés
#
proc ::satellites::getSunSetRise { haSunDeg latSunDeg } {

   set pi [expr 4*atan(1)]
   set cosOmega [expr { cos([mc_angle2rad $haSunDeg]) }]
   set tanPhi   [expr { -$cosOmega/tan([mc_angle2rad $latSunDeg]) }]
   set phiDeg [expr { atan($tanPhi)*180/$pi }]
   if {$phiDeg > 90} {
      set phiDeg 90.0
   } elseif {$phiDeg < -90} {
      set phiDeg -90.0
   }

   return $phiDeg
}

   #------------------------------------------------------------
   #  brief    créé le fichier world.svg dans le répertoire Images
   #  param    params liste de valeurs
   #
   proc ::satellites::writeSVGOrbit { params } {
      variable private

      #--   raccourcis
      set selectedSat $private(satname)
      set gpsObs $private(gps)
      set zoom $private(zoom)
      set grid $private(grid)
      set sunmoon $private(sunmoon)
      set date $private(tu)
      set gps $private(gps)

      lassign $params svgfile revperday tsyn

      set coef 2                       ; #representation avec un coef de 2 pix/deg
      set width [expr { 360*$coef }]
      set height [expr { 180*$coef }]
      set viewBox "0 0 [expr { $width*$zoom }] [expr { $height*$zoom}]"
      set hbord 25                     ; #-- distance des bord gauche et droits pour le texte
      set vbord 20                     ; #-- distance des bord haut et bas pour le texte
      set exc [expr { 10*$coef }]      ; #-- excentrement vers la droite de la carte de 10°

      set htm "<?xml version='1.0' encoding='utf-8' standalone='no'?>"
      append htm "<svg width='[expr { $width*$zoom }]' height='[expr { $height*$zoom }]' viewBox='$viewBox' version='1.1' \
         xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"
      append htm "<desc>equirectangular worldmap</desc>"

      #--   Les definitions de script et de css
      append htm "<defs>"
      append htm "<style type='text/css'>"
      append htm "text{fill:white;text-anchor:middle;font:bold;font-size:12px}"
      append htm ".ref{stroke:coral;stroke-width:1}"
      append htm ".grid{stroke:#0033CC;stroke-width:0.3}"
      append htm "</style>"
      #--   filtre flou pour le terminateur
      append htm "<filter id='night'><feGaussianBlur in='SourceGraphic' stdDeviation='9'/></filter>"
      append htm "<filter id='sun'><feGaussianBlur in='SourceGraphic' stdDeviation='2'/></filter>"
      #--   les modeles a recopier par translation : meridien de greenwich
      append htm "<line id='lat' x1='$hbord' y1='180' x2='[expr { $width-$hbord }]' y2='180'/>"
      append htm "<line id='mer' x1='[expr { $width/2-$exc }]' y1='$vbord' x2='[expr { $width/2-$exc }]' y2='[expr { $height-$vbord }]'/>"
      append htm "<path id='reliefLune' d='m 8.617,28.29 c -2.189,-0.57 -6.539,-5.21 -6.585,-7.04 c -0.04,-1.7 1.454,-1.57 2.968,0.25 c 1.883,2.27
5.28,1.97 4.533,-0.39 c -0.733,-2.32 1.817,-5.11 4.657,-5.11 c 1.13,0 3.58,1.35 5.46,3 c 1.88,1.65 4.08,3 4.88,3 c 1.61,0 1.9,1.77 0.63,3.77 c -0.89,1.41
-6.44,3.23 -9.84,3.23 c -1.29,0 -2.44,-0.8 -2.8,-1.95 c -0.38,-1.2 -1.19,-1.73 -2.1,-1.38 c -1.244,0.48 -1.196,0.78 0.3,1.92 c 1.81,1.37 1.26,1.56
-2.103,0.7 z m 12.843,-2.22 c 0.31,-0.51 0.19,-1.17 -0.28,-1.46 c -0.46,-0.29 -0.85,0.13 -0.85,0.93 c 0,1.69 0.32,1.84 1.13,0.53 z m -8.08,-5.62 c
0.34,-0.89 0.18,-1.29 -0.39,-0.94 c -0.55,0.33 -0.99,1.03 -0.99,1.55 c 0,1.44 0.72,1.12 1.38,-0.61 z m 5.62,1.17 c 0,-0.21 -0.79,-0.99 -1.75,-1.75 c
-1.59,-1.24 -1.62,-1.21 -0.38,0.38 c 1.31,1.67 2.13,2.2 2.13,1.37 z m -12.5,-5.62 c -0.837,-1.35 0.292,-3 2.059,-3 c 0.793,0 1.441,0.9 1.441,2 c 0,2.07
-2.413,2.76 -3.5,1 z m 0.5,-11.348 c 0,-2.198 3.14,-3.652 7.88,-3.652 c 5.52,0 6.03,1.624 0.88,2.843 c -2.34,0.555 -5.27,1.319 -6.51,1.699 c -1.676,0.515
-2.25,0.288 -2.25,-0.89 z'/>"
      append htm "</defs>"

      #--   Applique a toute l'image
      append htm "<g transform='scale($zoom)'>"

      #--   Trace le fond en ocean
      append htm "<rect x='0' y='0' width='$width' height='$height' style='fill:#0099cc'/>"

      #--   Superpose les terres
      append htm "<path style='fill:#7C5329;stroke:#3B240B;stroke-width:0.3' d='m 0.6667,359.3c-0.3667,-0.3 -0.6667,-2 -0.6667,-3.8 l 0,-3.1 l 9.75,0.8 c
7.21,0.6 54.18,0.5 56,-0.1 c 0.14,-0.1 0.25,-1.7 0.25,-3.6 l 0,-3.5 l -9.75,-0.1 c -5.52,-0.1 -8.66,-0.4 -7.25,-0.8 c 2.14,-0.6 2.54,-1.3 2.8,-5.3 c
0.25,-3.7 0.7,-4.7 2.5,-5.2 c 4.51,-1.2 44.56,-2.8 54.2,-2.1 c 5.5,0.4 15.5,0.9 22.3,1.1 c 11.4,0.3 12.2,0.2 12.2,-1.5 c 0,-1.6 1,-1.9 7.3,-2.4 c 8,-0.5
29.7,1.3 29.7,2.5 c 0,0.4 -2.5,0.8 -5.5,0.8 l -5.5,0 l 0,3.5 c 0,4.2 1.2,4.9 9,5 c 3,0 6.1,0.5 6.8,1.2 c 0.7,0.7 2.7,1.4 4.5,1.7 c 16.5,2.5 30.2,4 35.2,3.9
c 8,-0.1 33.9,-2 49.5,-3.5 l 12.5,-1.3 l 0.3,-3.6 c 0.3,-3.2 0.7,-3.8 3.4,-4.3 c 1.7,-0.3 5,-0.6 7.3,-0.6 c 5.2,0 14.5,-2.9 14.5,-4.5 c 0,-1.8 9.1,-3.5
23.8,-4.5 c 7.3,-0.5 13.6,-1.2 14.1,-1.5 c 0.8,-0.4 37,-1.5 62.7,-1.9 c 4.4,-0.1 8.7,-0.6 9.5,-1.2 c 0.8,-0.7 5.5,-1.9 10.5,-2.7 c 5,-0.9 10.3,-2.1
11.8,-2.8 c 2.2,-1.1 3.1,-1 4.9,0.1 c 1.2,0.7 5.3,1.5 9.2,1.7 c 13.1,0.7 13,0.7 13,5.5 l 0,4.3 l 4.9,0.3 c 3.9,0.3 5.5,-0.2 8.5,-2.2 c 2,-1.4 5.2,-2.9
7.1,-3.2 c 1.9,-0.4 4.3,-1.1 5.3,-1.6 c 6.7,-3.4 30.5,-5.7 50.2,-4.7 c 5.5,0.2 12.9,0.3 16,0.1 c 1.1,-0.1 9.6,0.1 19,0.3 c 10.4,0.317.8,0.1 19,-0.5 c
2.4,-1.2 22.6,0.9 32,3.4 c 3.3,0.9 8.2,1.6 11,1.6 c 2.7,0 7.5,0.7 10.5,1.5 c 3,0.8 7.3,1.5 9.5,1.6 l 4,0.1 l -3.7,1.5 c -3.1,1.3 -3.7,2 -4,5 c -0.3,3.1
-0.8,3.7 -3.8,4.7 c -3,0.9 -3.5,1.6 -3.8,4.6 c -0.2,3 0.2,3.7 2.5,4.8 c 7,3.3 18.4,5.3 36.8,6.3 c 10.5,0.6 20,1.3 21.1,1.5 c 1.9,0.3 3.3,2.4 3,4.7 c
-0.1,0.4 0.6,1.2 1.4,1.7c0.9,0.6 -130.9,1 -357.6,1 c -197.5,0 -359.367,-0.3 -359.7333,-0.7 z m 718.5333,-4.8 c 0,-1.6 0.2,-2.4 0.5,-1.8 c 0.2,0.7 0.2,2.1
0,3 c -0.3,1 -0.5,0.4 -0.5,-1.2 z m -718.968,-30.5 c 0,-1.9 0.2058,-2.7 0.4573,-1.7 c 0.2516,0.9 0.2516,2.5 0,3.5 c -0.2515,0.9 -0.4573,0.1 -0.4573,-1.8 z m
208.768,-0.9 l 0,-3.6 l 2.5,2.7 c 1.4,1.5 2.5,2.9 2.5,3.1 c 0,0.3 -1.1,0.7 -2.5,0.9 c -2.3,0.5 -2.5,0.2 -2.5,-3.1 z m -208.8051,-5.6 c -0.02,-1.6
0.1871,-2.4 0.461,-1.8 c 0.274,0.7 0.2906,2.1 0.037,3 c -0.2536,1 -0.4777,0.4 -0.4981,-1.2 z m 0.037,-21.5 c 0,-1.9 0.2058,-2.7 0.4573,-1.7 c 0.2516,0.9
0.2516,2.5 0,3.5 c -0.2515,0.9 -0.4573,0.1 -0.4573,-1.8 z m 200.6681,-7.7 c -0.1,-0.5 -0.1,-1.1 0,-1.5 c 0,-0.5 -0.8,-0.8 -1.8,-0.8 c -3.4,0 -6.3,-4.8
-5.7,-9.4 c 0.5,-4.8 2,-10.9 3,-12.5 c 0.7,-1 -0.6,-1.6 -2.7,-1.2 c -1.1,0.2 0.1,-6.4 2.4,-12.8 c 1.1,-3 1.8,-6 1.5,-6.6 c -0.2,-0.7 0.2,-4.3 1,-8.1 c
1.6,-7.5 2.6,-20.4 1.5,-20.1 c -0.3,0.1 -1.9,-0.7 -3.6,-1.7 c -1.6,-1.1 -4,-2.5 -5.1,-3.2 c -1.2,-0.7 -3.8,-4.6 -5.9,-8.6 c -2.1,-4 -4.6,-8.4 -5.6,-9.6 c
-1.6,-2.1 -1.7,-2.6 -0.4,-3.9 c 1.8,-1.7 2,-4 0.4,-4.5 c -1.5,-0.5 1,-5.8 2.8,-5.8 c 0.8,0 1.2,-0.4 0.9,-0.9 c -0.3,-0.5 0.1,-1.4 0.9,-2.1 c 0.9,-0.8 1.5,-3
1.5,-5.9 c 0,-3.7 0.6,-5.3 2.8,-7.8 c 2.5,-2.7 3.5,-3.1 8.3,-3.1 c 3,0 5.9,0.3 6.4,0.6 c 0.6,0.4 3,0.7 5.5,0.8 c 5.3,0.1 8,1.1 8,2.9 c 0,0.8 1.2,1.52.8,1.7
c 1.5,0.2 2.6,0.8 2.5,1.6 c -0.2,0.6 0.3,1.2 1.1,1.2 c 0.8,0 1.6,0.4 1.8,1 c 0.2,0.5 2.3,1.1 4.6,1.2 c 3.9,0.1 4.7,0.6 7,4.1 c 2.1,3.2 2.4,4.2 1.4,5.8 c
-1.7,2.7 -1.5,3 1.5,2.3 c 2.2,-0.6 2.5,-0.4 2,1 c -0.7,1.7 0.8,2.3 1.8,0.6 c 1,-1.6 3.3,-1.2 5.3,0.8 c 1.2,1.2 3.5,1.9 6.2,2 c 2.8,0.1 5.7,1.1 8,2.7c 2,1.4
4.1,2.5 4.7,2.5 c 1.1,0 2.3,2.2 2.3,4.4 c 0,0.7 -1.3,2.8 -3,4.7 c -1.6,1.9 -3.5,4 -4.2,4.8 c -0.6,0.8 -1.2,3.3 -1.3,5.5 c 0,2.3 -1.2,6.3 -2.5,9.1 c -2,4
-3.1,5.1 -5.6,5.6 c -1.7,0.3 -4.9,1.6 -7.2,2.9 c -3.5,2 -4.2,2.9 -4.2,5.5 c 0,2.2 -0.9,4 -3.2,6.2 c -4,3.7 -5.2,5.2 -6.1,7.6 c -0.7,1.9 -4.7,2.3 -7.8,0.7 c
-2.3,-1.3 -2.3,-1 -0.5,2.5 c 2.3,4.5 0.3,6.5 -6.6,6.5 c -2.1,0 -2.8,0.5 -2.8,2 c 0,1.6 -0.7,2 -3,2 c -2.6,0 -3,0.4 -2.9,2.3 c 0.4,4.2 -0.1,5.6 -2.1,6.2 c
-2.2,0.7 -2.7,4 -0.7,4.8 c 0.8,0.4 0.3,1.4 -1.6,3.1 c -3.9,3.6 -5,6.9 -2.8,8.8 c 1,0.9 2.4,1.8 3.2,2.1 c 0.8,0.3 0.2,0.6 -1.3,0.6 c -1.6,0.1 -2.9,-0.2
-2.9,-0.6 z m -200.6681,-3.3 c 0,-1.9 0.2058,-2.7 0.4573,-1.7 c 0.2516,0.9 0.2516,2.5 0,3.5 c -0.2515,0.9 -0.4573,0.1 -0.4573,-1.8 z m 674.4681,-12.7 c
-2.7,-0.7 -2,-2.1 2.2,-4.3 c 2.2,-1.1 4.7,-3 5.5,-4.2 c 1.2,-1.6 1.9,-1.9 2.7,-1.1 c 0.8,0.8 -0.1,2.3 -3.6,5.7 c -2.5,2.5 -4.7,4.5 -4.8,4.5 c -0.1,-0.1
-1,-0.3 -2,-0.6 z m -44.6,-8 c -0.7,-1.5 -0.4,-1.8 2,-1.9 c 3.1,-0.1 3.6,0.5 1.7,2.4 c -1.6,1.6 -2.6,1.5 -3.7,-0.5 z m -629.8681,-4.3 c 0,-1.9 0.2058,-2.7
0.4573,-1.7 c 0.2516,0.9 0.2516,2.5 0,3.5 c -0.2515,0.9 -0.4573,0.1 -0.4573,-1.8 z m 689.2681,1.1 c 0.3,-0.6 -0.1,-1.3 -0.8,-1.8 c -1.1,-0.6 -1.1,-1.3
-0.1,-3.1 c 0.7,-1.5 1.4,-2 1.8,-1.3 c 0.4,0.6 1.6,1.1 2.7,1.1 c 1.9,0 1.9,0 -0.1,2 c -1.1,1.1 -2,2.5 -2,3 c 0,0.6 -0.5,1 -1.1,1 c -0.5,0 -0.8,-0.4
-0.4,-0.9 z m -67.3,-5.2 c -1.7,-0.5 -3.2,-1.6 -3.2,-2.4 c 0,-0.7 -0.7,-2 -1.5,-2.9 c -0.8,-0.8 -1.9,-2.4 -2.3,-3.6 c -0.8,-2 -0.8,-2 -2.9,-0.1 c -2,1.9
-2.1,1.9 -3.3,-0.5 c -2,-3.7 -7.8,-4.9 -15.2,-3 c -3.3,0.8 -6.5,1.9 -7.1,2.4 c -1.2,0.9 -7,2 -13.2,2.5 c -2.7,0.2 -3,-0.1 -2.7,-2.3 c 0.2,-1.4 -0.4,-4.2
-1.3,-6.3 c -1.6,-3.8 -2.6,-8.6 -2.6,-12.2 c 0,-2.5 3.1,-4.8 8.9,-6.4 c 5.2,-1.5 8.2,-3.7 8.2,-5.8 c 0,-0.8 0.5,-1.1 1.1,-0.8 c 1,0.7 4.9,-3 4.9,-4.5 c
0,-1.5 3.5,-2.1 4.5,-0.8 c 1.7,2.2 3.5,1.9 4.5,-0.7 c 1.2,-3 4.9,-4.7 8.9,-3.9 c 2.6,0.6 2.9,0.9 2.1,3 c -0.8,2 -0.5,2.6 1.3,3.7 c 1.2,0.8 3.5,2.2 5,3.1 c
3.3,2 5.7,0.8 5.7,-2.9 c 0,-4 1.2,-8.5 2.1,-7.9 c 0.5,0.3 0.9,1.4 0.9,2.4 c 0,1.1 0.8,2.4 1.8,2.9 c 0.9,0.5 2.3,2.6 3.1,4.7 c 0.7,2 3.3,5.6 5.7,8 c 2.4,2.3
4.4,4.5 4.4,4.9 c 0,0.4 1,1.5 2.2,2.5 c 3.2,2.6 3.3,12.3 0.1,16.4 c -1.2,1.5 -2.7,4.2 -3.2,5.9 c -0.8,2.5 -2,3.5 -4.8,4.4 c -2.5,0.7 -4.2,0.8 -4.9,0.2 c
-0.8,-0.7 -1.4,-0.6 -1.9,0.1 c -0.7,1.2 -0.9,1.1 -5.3,-0.1 z m -243.9,-7.6 c -0.7,-0.3 -1.3,-1.5 -1.3,-2.7 c 0,-1.2 -0.7,-3.1 -1.5,-4.2 c -0.8,-1 -1.5,-2.5
-1.5,-3.1 c 0,-0.7 -0.9,-2.2 -1.9,-3.2 c -1,-1 -2.2,-3.8 -2.6,-6.2 c -0.4,-2.4 -1.8,-6.4 -3.1,-8.8 c -2.9,-5.3 -3,-8.5 -0.4,-13.3 c 1.7,-3.2 1.8,-4.4
0.9,-8.5 c -0.5,-2.6 -1.1,-5.6 -1.2,-6.6 c -0.1,-1 -0.8,-2.2 -1.6,-2.6 c -0.7,-0.5 -1,-1.4 -0.7,-2 c 0.4,-0.6 0.1,-1.1 -0.8,-1.1 c -2.1,0 -4.8,-4.1
-3.6,-5.5 c 1.5,-1.8 1.6,-6.1 0.1,-8.7 c -1,-1.9 -1.9,-2.3 -4.1,-2 c -1.9,0.3 -3.5,-0.3 -4.9,-1.7 c -2.6,-2.6 -5.4,-2.6 -10.6,-0.1 c -2.6,1.2 -4.2,1.5
-4.6,0.8 c -0.4,-0.6 -1.1,-0.8 -1.5,-0.5 c -0.5,0.2 -3.1,0.7 -5.9,1 c -4.7,0.6 -5.3,0.4 -9,-2.9 c -2.2,-1.9 -3.9,-3.9 -3.7,-4.5 c 0.1,-0.5 -0.5,-1.2
-1.3,-1.5 c -0.8,-0.4 -2.3,-2.3 -3.2,-4.3 c -0.9,-2 -2.3,-4 -3,-4.4 c -1,-0.6 -1,-1.3 -0.2,-2.8 c 0.5,-1.1 0.9,-4.9 0.7,-8.3 c -0.2,-4.4 0.2,-6.9 1.2,-8.1 c
0.8,-0.9 1.9,-2.6 2.5,-3.8 c 0.5,-1.1 1.9,-2.5 2.9,-3.1 c 4.1,-2.4 6.6,-5.1 6.6,-7.2 c 0,-1.3 0.7,-2.9 1.6,-3.6 c 0.9,-0.7 2.6,-2.2 3.8,-3.3 c 1.5,-1.4
3.3,-1.9 5.9,-1.7 c 2,0.2 5.1,-0.4 6.9,-1.2 c 2,-0.9 6.9,-1.6 12.3,-1.8 l 9,-0.3 l -0.1,3.1 c -0.2,3.4 2.4,5.4 7,5.4 c 1.3,0 2.6,0.7 3,1.5 c 0.3,0.8 1.6,1.5
3,1.5 c 1.4,0 2.7,0.4 3.1,1 c 0.9,1.5 3.5,0 3.5,-2 c 0,-2.5 2.7,-2.9 7,-1.2 c 1.9,0.8 7.6,1.6 12.5,1.8 c 10.2,0.4 10.9,0 12.1,-7.4 l 0.6,-4 l -6.8,0.3 c
-9.1,0.3 -11,-0.5 -11.8,-4.9 c -0.8,-4.41 -1.9,-5.11 -5.7,-3.57 c -2.8,1.16 -4.2,4.97 -1.8,4.97 c 0.6,0 0.4,0.7 -0.5,1.5 c -1.8,1.9 -2.6,1.9 -2.6,0.2 c
0,-0.8 -0.9,-2.2 -2,-3.2 c -1.1,-1 -2,-2.79 -2,-3.98 c 0,-1.56 -1.2,-2.78 -4.4,-4.38 c -2.5,-1.21 -4.6,-2.58 -4.8,-3.04 c -0.2,-0.46 -1.3,-1.15 -2.6,-1.54 c
-1.6,-0.49 -2.4,-0.24 -2.8,0.89 c -0.7,1.76 2.5,5.28 6.7,7.41 c 2.1,1.06 2.5,1.83 2,3.94 c -0.3,1.6 -0.6,2.1 -0.8,1.1 c -0.2,-0.9 -2.2,-2.58 -4.3,-3.8 c
-2.2,-1.23 -5.4,-3.37 -7,-4.77 c -2.6,-2.2 -3.4,-2.4 -5.8,-1.48 c -1.5,0.59 -4.3,1.21 -6.2,1.36 c -2,0.17 -3.5,0.83 -3.5,1.57 c 0,0.71 -1.1,1.85 -2.5,2.53 c
-1.4,0.69 -3.1,2.42 -3.7,3.89 c -0.7,1.4 -1.9,3 -2.5,3.5 c -1.9,1.5 -8.7,2.3 -9.3,1.2 c -0.4,-0.5 -1.5,-0.9 -2.6,-0.9 c -1.1,0 -2,-0.7 -2,-1.8 c -0.5,-5.87
-0.3,-8.78 0.5,-9.38 c 0.6,-0.37 4,-0.42 7.6,-0.11 c 6.7,0.55 6.7,0.53 7.2,-2.11 c 0.6,-3.04 -2.3,-7.54 -5,-7.71 c -0.9,-0.1 0.3,-0.55 2.8,-1.09 c 2.5,-0.55
5.2,-1.56 6,-2.26 c 0.8,-0.7 2.7,-1.57 4.3,-1.92 c 1.5,-0.36 2.7,-1.32 2.7,-2.12 c 0,-1.46 4,-2.92 9.3,-3.42 c 0.5,0 0.5,-0.58 0.1,-1.19 c -0.4,-0.72 0,-0.9
1.2,-0.53 c 3.8,1.16 20.1,0.66 22.2,-0.67 c 0.6,-0.44 1.2,-1.96 1.2,-3.36 c 0,-2.2 0.3,-2.46 2.4,-1.93 c 2.8,0.69 4.6,-1.15 2.5,-2.5 c -1,-0.64 -0.7,-0.91
1.1,-1.04 c 1.4,-0.1 3.7,-0.26 5.3,-0.37 c 3.1,-0.22 4.2,-0.94 3.3,-2.3 c -0.3,-0.52 -2.6,-0.72 -5,-0.45 c -9.7,1.1 -13.2,-2.82 -5.6,-6.25 c 4.8,-2.18
4.7,-3.88 -0.3,-4.3 c -2.7,-0.23 -3.9,0.13 -4.3,1.31 c -0.4,0.89 -2.4,2.3 -4.5,3.14 c -4.5,1.81 -5.6,3.97 -3.2,6.55 c 1.6,1.8 1.6,1.92 -0.5,2.47 c -1.5,0.39
-2.2,1.34 -2.2,2.96 c 0,1.68 -0.6,2.38 -1.9,2.38 c -1.1,0 -2.1,0.55 -2.3,1.23 c -0.3,0.67 -1.7,-0.9 -3.2,-3.5 c -3.1,-5.22 -3.4,-5.38 -6.2,-3.26 c -2.7,2.06
-6.5,2.02 -5.7,-0.1 c 0.3,-0.88 0,-1.97 -0.7,-2.41 c -1,-0.6 -0.4,-1.38 2.1,-2.9 c 1.9,-1.14 4.1,-2.08 4.9,-2.09 c 0.8,0 3.5,-1.79 6,-3.97 c 2.4,-2.18
5.7,-4.25 7.3,-4.59 c 1.6,-0.35 3.1,-1.26 3.4,-2.03 c 0.3,-0.81 1.9,-1.41 3.7,-1.41 c 1.8,0 3.7,-0.51 4.3,-1.13 c 1.5,-1.52 8.8,-1.34 20.3,0.49 c 11.4,1.82
18.4,4.07 15.8,5.13 c -1,0.39 -4,0.55 -6.8,0.36 c -5.2,-0.36 -6.1,0.42 -3.7,3.36 c 1.7,2.24 6.2,3.52 5.4,1.56 c -0.4,-1.09 0.1,-1.34 1.9,-1 c 1.3,0.26
3,-0.23 3.9,-1.16 c 0.9,-0.89 3.2,-1.61 5.1,-1.61 c 3,0 3.4,-0.28 2.9,-1.92 c -0.3,-1.05 -0.1,-2.2 0.4,-2.55 c 0.6,-0.37 0.8,0 0.5,0.83 c -0.9,2.33 3.3,3.03
7.1,1.19 c 2.3,-1.06 6.9,-1.74 13.6,-1.96 c 7.1,-0.24 10.4,-0.75 11,-1.68 c 0.6,-1.11 1.8,-1.11 7.1,0 c 8.4,1.78 9,1.8 9.5,0.34 c 0.3,-0.69 -0.2,-1.25
-1.1,-1.25 c -2.6,0 -2.8,-1.98 -0.4,-3.99 c 2.2,-1.86 8.4,-2.87 7.4,-1.2 c -0.3,0.44 -0.1,2.47 0.4,4.51 c 0.7,3.15 0.5,3.87 -1.1,4.75 c -2.1,1.12 -1.7,2.93
0.7,2.93 c 1.7,0 6.4,-4.38 6.4,-5.95 c 0,-0.58 -0.6,-1.05 -1.3,-1.05 c -0.7,0 -1.3,-0.85 -1.3,-1.89 c 0,-1.97 0.3,-2.02 11.9,-2.26 c 5.1,-0.11 5.6,-0.46
3,-2.46 c -1.6,-1.15 -0.9,-1.33 4.8,-1.36 c 4.7,0 6.8,-0.43 7.2,-1.4 c 0.6,-1.62 5.7,-2.48 18.7,-3.19 c 7.1,-0.39 9.7,-0.9 10.3,-2.06 c 0.6,-1.1 1.7,-1.35
3.5,-0.86 c 1.5,0.38 3.4,0.83 4.2,1.01 c 0.8,0.17 1.7,0.38 2,0.47 c 0.3,0.1 2.7,0.23 5.4,0.32 c 2.9,0.11 5.1,0.69 5.3,1.43 c 0.3,0.69 -0.2,1.25 -1,1.25 c
-0.8,0 -2.8,0.67 -4.3,1.49 l -2.9,1.5 l 5,0.1 c 7.1,0.1 15.3,0.69 20.3,1.48 c 2.5,0.41 4.7,0.26 5.5,-0.36 c 1.5,-1.28 9.7,-0.32 9.4,1.11 c -0.4,1.88
5.1,4.34 7,3.18 c 1,-0.57 4.9,-0.96 8.8,-0.88 c 4.7,0.11 7.3,-0.28 8.3,-1.21 c 1.6,-1.62 7.8,-1.84 8.7,-0.31 c 0.4,0.6 1.9,0.79 3.5,0.43 c 1.6,-0.34 4.8,0
7.3,0.87 c 2.4,0.82 7.4,1.45 11.1,1.39 c 3.9,-0.1 7.1,0.36 7.4,0.98 c 0.4,0.59 4.5,1.33 9.2,1.63 c 4.7,0.3 9.7,0.85 11.2,1.21 c 2.1,0.48 2.8,0.28 2.8,-0.73
c 0,-2.93 26.5,1.61 27.7,4.75 c 0.2,0.71 1.9,1.09 4.1,0.93 c 2,-0.15 2.9,-0.1 1.9,0.17 c -0.9,0.25 -1.7,0.87 -1.7,1.38 c 0,1.36 -2.5,1.14 -8.2,-0.73 c
-4.7,-1.54 -5.1,-1.54 -6,0 c -0.5,0.92 -2.1,1.66 -3.5,1.66 l -2.6,0 l 2.4,2.56 c 1.7,1.83 1.9,2.37 0.6,1.89 c -0.9,-0.36 -4.9,0.35 -8.9,1.58 c -4,1.24
-10.1,2.35 -13.6,2.49 c -5,0.19 -6.8,0.72 -8.7,2.52 c -1.8,1.67 -2.2,2.63 -1.4,3.54 c 1,1.3 -0.7,5.42 -2.4,5.42 c -0.4,0 -2.3,1.57 -4.1,3.5 c -1.9,1.92
-3.7,3.5 -4,3.5 c -1.1,0 -1.8,-9.07 -0.7,-10.39 c 0.6,-0.76 4.1,-2.88 7.7,-4.71 c 7.1,-3.66 11.1,-7.9 7.4,-7.9 c -1.1,0 -2,0.38 -2,0.84 c 0,0.46 -1.1,1.35
-2.5,1.98 c -1.5,0.69 -2.5,0.75 -2.5,0.16 c 0,-2.57 -9.9,-0.27 -13,3.01 c -0.3,0.29 -5.6,0.64 -11.8,0.77 c -11.2,0.24 -11.3,0.25 -18.7,4.49 c -7.3,4.18
-9,5.75 -6,5.75 c 0.8,0 1.5,0.51 1.5,1.13 c 0,0.73 1.2,0.93 3.4,0.57 c 4.3,-0.68 6.3,1.14 4.7,4.17 c -0.6,1.1 -1.1,2.83 -1.1,3.85 c 0,1.02 -2.4,4.26
-5.4,7.21 c -4.5,4.4 -6.1,5.39 -9.3,5.57 c -6.1,0.35 -6.7,0.46 -6,1.13 c 1,0.99 -1.2,4.37 -2.8,4.37 c -2,0 -2,4.59 0,5.39 c 1.6,0.6 2.1,4.6 0.6,4.6 c -0.5,0
-1.6,0.3 -2.5,0.6 c -1.3,0.5 -1.4,0.1 -0.6,-2.5 c 0.8,-2.9 0.6,-3.5 -1.3,-3.2 c -0.4,0.1 -1.2,-1 -1.7,-2.4 c -1,-2.75 -2.1,-3.04 -5.2,-1.4 c -1.5,0.8
-1.9,0.8 -1.4,0 c 0.4,-0.6 0.4,-1.53 0.1,-2.07 c -0.7,-1.16 -9.4,2.97 -9.5,4.47 c 0,1.8 4,3.6 6.3,2.9 c 1.7,-0.5 1.6,-0.2 -0.8,1.9 c -2.7,2.3 -2.8,2.7
-1.5,4.4 c 3,3.6 4,6.2 2.9,6.9 c -0.8,0.5 -0.8,0.8 0,1.3 c 0.7,0.5 0.1,2.3 -2,5.4 c -4,6.1 -8.2,9.1 -11.4,8.3 c -1.8,-0.5 -2.5,-0.2 -2.5,0.9 c 0,1.5
-1.8,1.9 -8,1.6 c -2.9,-0.1 -3.9,0.4 -5.7,3 l -2.2,3.2 l 2,2.9 c 1.1,1.5 2.9,3.3 4,3.8 c 1.3,0.8 1.9,2.1 1.9,4.6 c 0,3 -0.4,3.5 -3,4.1 c -1.7,0.3 -3,1.2
-3,1.9 c 0,0.8 -0.5,1.4 -1.1,1.4 c -0.6,0 -0.9,-0.7 -0.5,-1.5 c 0.3,-0.9 0,-1.5 -0.9,-1.5 c -0.8,0 -2,-0.8 -2.7,-1.7 c -0.7,-1 -2.3,-2.4 -3.6,-3.1 c -1.9,-1
-2.3,-1 -2.8,0.3 c -0.8,1.9 -2.4,2 -2.4,0 c 0,-1.9 -3.2,-8.5 -4.1,-8.5 c -0.4,0 -1.1,0.5 -1.4,1 c -1,1.6 -2.5,1.1 -2.5,-0.9 c 0,-1 -0.9,-3 -2,-4.4 c
-1.1,-1.4 -2,-3.3 -2,-4.2 c 0,-0.9 -0.5,-1.3 -1,-1 c -0.5,0.3 -1,-0.1 -1,-0.9 c 0,-1.8 -2.5,-2.2 -3.5,-0.6 c -0.3,0.6 -1.4,1 -2.4,1 c -0.9,0 -4.2,2.3 -7.2,5
c -2.9,2.8 -6.6,5.8 -8.1,6.7 c -1.9,1.2 -2.8,2.6 -2.8,4.3 c 0,3.8 -1.9,9.6 -3.5,11 c -1.3,1.1 -2.1,0 -5.5,-7.4 c -2.4,-5.3 -4.1,-10.6 -4.4,-13.7 c -0.4,-5.9
-1.1,-6.9 -3,-4.4 c -1.7,2.3 -3.9,1.1 -3,-1.7 c 0.4,-1.4 0.2,-1.8 -0.5,-1.4 c -0.6,0.4 -1.4,0 -1.7,-0.8 c -0.3,-0.9 -1.3,-1.6 -2,-1.6 c -0.8,0 -1.7,-0.6
-1.9,-1.2 c -0.4,-0.9 -2.5,-1.2 -6.8,-1.1 c -8.2,0.2 -12.7,-0.6 -12.7,-2.3 c 0,-1.1 -0.9,-1.3 -3.9,-0.8 c -3.4,0.5 -4.1,0.3 -7.3,-3 c -4.2,-4.3 -9,-5.1
-8.3,-1.4 c 0.3,1.3 1.4,3 2.5,4 c 1.1,0.9 2,2 2,2.5 c 0,0.5 1,1.9 2.3,3 c 2.2,2.1 7,2.2 8.3,0.2 c 0.3,-0.5 1.2,-0.2 2,0.6 c 0.9,0.8 2.4,1.5 3.4,1.5 c 2.8,0
3.5,3.2 1.1,4.9 c -1.2,0.7 -2.1,1.8 -2.1,2.4 c 0,2.4 -5,5.2 -8.7,4.8 c -0.6,-0.1 -1.4,0.6 -1.7,1.6 c -0.8,2.3 -15.3,8 -16.7,6.6 c -0.5,-0.5 -1.1,-2.4
-1.4,-4.2 c -0.2,-1.8 -2,-5.2 -3.9,-7.6 c -2,-2.4 -3.6,-5 -3.6,-5.9 c 0,-0.9 -0.9,-2.5 -2,-3.6 c -1.1,-1.1 -2,-2.3 -2,-2.7 c -0.1,-1.5 -4.9,-6.7 -5.6,-6 c
-0.4,0.4 -1.3,0.2 -2.1,-0.5 c -1.5,-1.2 3.3,9.3 6,13.2 c 0.9,1.3 1.7,3.5 1.7,4.7 c 0,1.3 0.4,2.3 0.9,2.3 c 0.5,0 1.4,1.2 2,2.8 c 0.6,1.5 2.7,4 4.7,5.6 c
2,1.6 3.4,3.5 3.2,4.4 c -0.6,3 3.2,4 9.8,2.7 c 4.7,-0.9 6,-0.9 6.2,0.1 c 0.7,2.8 -6.1,12.3 -13.6,19.1 c -8.8,8 -11.4,12.1 -10.2,16.1 c 0.5,1.5 1.3,4.3
1.9,6.3 c 1.7,5.4 1.4,10.4 -0.7,12.2 c -1,1 -2.3,1.7 -2.8,1.7 c -0.5,0 -2.4,1.4 -4.1,3 c -2.9,2.6 -3.1,3.3 -2.3,5.5 c 1.6,4.1 1.2,5.3 -2.1,7.1 c -2.2,1.1
-3,2.1 -2.6,3.4 c 0.3,1.1 -0.4,2.9 -1.5,4.2 c -1.1,1.3 -2.3,2.8 -2.6,3.3 c -2.2,3.3 -7.6,6.5 -11,6.5 c -2.1,0 -5.1,0.4 -6.7,0.8 c -1.7,0.5 -3.6,0.7 -4.2,0.5
z m 30.8,-44.5 c -0.4,-3.5 -0.6,-3.8 -0.9,-1.5 c -0.3,2.6 0.3,5.7 1,5.7 c 0.2,0 0.1,-1.9 -0.1,-4.2 z m -8.5,-9.3 c -0.9,-1.3 -1.7,-3.5 -1.7,-4.7 c -0.2,-2.3
-0.2,-2.3 -0.6,-0.1 c -0.4,1.9 2.1,7.3 3.4,7.3 c 0.3,0 -0.2,-1.1 -1.1,-2.5 z m 6.4,-11.5 c 1.5,-2.8 0.4,-4.3 -2.1,-3 c -2.2,1.2 -2.6,5 -0.4,5 c 0.8,0
1.9,-0.9 2.5,-2 z m 40,-79.4 c 0,-1.4 -0.4,-2.8 -1,-3.1 c -1.5,-0.93 -1.2,-2.5 0.5,-2.5 c 0.9,0 1.2,-0.59 0.9,-1.49 c -0.4,-0.83 -0.9,-1.3 -1.3,-1.06 c
-0.4,0.24 -1.9,-0.61 -3.4,-1.88 c -2.8,-2.41 -2.5,-3.44 1.6,-4.91 c 1,-0.36 1.5,-1.14 1.1,-1.76 c -0.9,-1.47 -6.5,-0.53 -9.8,1.63 c -2.2,1.43 -2.4,1.99
-1.5,3.82 c 0.7,1.18 2,3.12 3.1,4.31 c 1.7,1.82 1.8,2.5 0.8,4.44 c -1.1,1.9 -1,2.4 0.6,3.6 c 1,0.7 3.3,1.3 5.1,1.3 c 2.8,0 3.3,-0.3 3.3,-2.4 z m -45.1,-6.26
c 4.4,-1.43 5.8,-1.48 10.5,-0.36 c 5.7,1.37 11,0.73 10.3,-1.26 c -0.2,-0.66 -2.1,-2.1 -4.3,-3.18 c -2.1,-1.09 -4,-2.07 -4.2,-2.17 c -0.2,-0.11 0.4,-1.35
1.3,-2.77 l 1.7,-2.57 l -3.8,1.34 c -2.2,0.73 -3.9,1.81 -3.9,2.4 c 0,2.29 -1.6,2.48 -3.5,0.41 c -2.5,-2.64 -4.1,-2.74 -6.6,-0.42 c -3.2,3.01 -4.7,6.22
-3.4,7.73 c 0.8,1.03 0.7,1.45 -0.7,1.81 c -1.5,0.38 -1.5,0.49 -0.2,0.58 c 0.9,0.1 4,-0.63 6.8,-1.54 z m 58.1,-7.41 c 0,-2.41 -3.1,-2.35 -3.7,0.1 c -0.4,1.33
-0.3,1.33 0.6,0 c 0.9,-1.29 1.1,-1.26 1.1,0.25 c 0,0.96 0.5,1.75 1,1.75 c 0.6,0 1,-0.93 1,-2.07 z m 28.5,-1.93 c 0.3,-0.55 0.2,-1 -0.4,-1 c -0.5,0 -1.3,0.45
-1.6,1 c -0.3,0.55 -0.2,1 0.4,1 c 0.5,0 1.3,-0.45 1.6,-1 z m 69.5,-17.02 c 0.6,-1.09 0.8,-1.98 0.6,-1.98 c -0.7,0 -5.6,4.94 -5.6,5.58 c 0,1.12 4,-1.78
5,-3.6 z m -557.7681,173.02 c 0,-1.9 0.2058,-2.7 0.4573,-1.7 c 0.2516,0.9 0.2516,2.5 0,3.5 c -0.2515,0.9 -0.4573,0.1 -0.4573,-1.8 z m 427.3681,-15.5 c
-0.9,-2.5 -0.7,-6.3 0.4,-7 c 0.6,-0.4 0.9,-2.3 0.8,-4.3 c -0.3,-3.2 0.1,-3.7 3.5,-5.6 c 2,-1.1 3.7,-2.5 3.7,-3.2 c 0,-0.6 0.7,-1.4 1.5,-1.8 c 0.8,-0.3
1.5,-0.1 1.5,0.3 c 0,0.5 0.3,1.7 0.7,2.7 c 0.4,1.1 0.2,1.5 -0.4,1.1 c -0.6,-0.4 -1.1,0.3 -1.1,1.6 c 0,1.2 -1.1,5.6 -2.5,9.7 c -2.2,6.3 -3,7.5 -5,7.8 c
-1.5,0.2 -2.7,-0.3 -3.1,-1.3 z m 204.6,-31.5 c -3.8,-3.5 -4.6,-3.6 -7.2,-1 c -2.1,2.1 -4,2.6 -4,1.1 c 0,-0.5 -0.8,-1.2 -1.8,-1.6 c -1.1,-0.3 -2.4,-1.7
-3.1,-3.1 c -0.6,-1.4 -2.5,-3 -4.1,-3.6 l -3,-1 l 2.6,-2 c 2.5,-2 2.6,-2 8.6,-0.2 c 6.1,1.8 13.3,6.5 12,7.9 c -0.4,0.4 0.9,2 2.8,3.6 c 1.9,1.6 2.8,2.9 2,2.9
c -0.8,0 -3,-1.4 -4.8,-3 z m -75.7,-2.1 c -2.2,-0.5 -4.4,-1.5 -5,-2.1 c -0.7,-0.8 -0.4,-0.9 1,-0.3 c 1.1,0.4 4.1,1 6.8,1.3 c 2.6,0.2 5,0.9 5.3,1.3 c 0.6,1.1
-2.8,1 -8.1,-0.2 z m -10.1,-5.8 c -1.7,-1.1 -4.5,-4.3 -6.2,-7.3 c -1.7,-2.9 -4.7,-7 -6.7,-9 c -4.5,-4.5 -1.5,-4.2 3.4,0.3 c 1.8,1.6 3.6,2.9 4,2.9 c 0.5,0
1.7,1.2 2.6,2.7 c 1,1.4 2.9,3.7 4.2,4.9 c 1.6,1.5 2.3,3.1 2.1,4.8 l -0.3,2.6 l -3.1,-1.9 z m 35.6,-2.6 c 0,-0.8 -0.7,-1.5 -1.5,-1.5 c -0.8,0 -1.5,0.5
-1.5,1.1 c 0,0.5 -0.4,0.8 -0.9,0.5 c -1.1,-0.7 -0.3,-4.6 0.9,-4.6 c 1.4,0 4,3 4,4.6 c 0,0.8 -0.2,1.4 -0.5,1.4 c -0.3,0 -0.5,-0.7 -0.5,-1.5 z m -14.3,-0.1 c
-0.4,-0.4 -1.7,-0.8 -2.9,-0.9 c -1.3,-0.1 -2.8,-0.3 -3.3,-0.4 c -1.1,-0.1 -4.1,-6.3 -3.4,-7.1 c 0.2,-0.2 1.2,-0.3 2.1,-0.2 c 1,0.2 1.8,-0.3 1.8,-1.1 c
0,-0.7 1.8,-2.2 3.9,-3.3 c 2.2,-1 4.5,-2.9 5,-4.1 c 0.6,-1.3 1.5,-2.3 2,-2.3 c 1.5,0 2.3,3.3 0.9,4.1 c -0.9,0.6 -0.9,1.3 -0.1,3.2 c 1,2.1 0.8,3.4 -1.3,7.6 c
-2.5,5 -3.4,5.8 -4.7,4.5 z m 36,-3.1 c -1.3,-1.3 -0.7,-2.1 1.3,-1.6 c 1.1,0.3 1.7,0.9 1.4,1.4 c -0.6,1.1 -1.8,1.2 -2.7,0.2 z m -59.5,-8 c -1.1,-0.4
-4.2,-5.4 -4.2,-6.7 c 0,-0.3 1,-0.4 2.2,-0.2 c 1.5,0.2 2.4,1.1 2.6,2.7 c 0.2,1.3 0.9,3 1.4,3.7 c 1.1,1.2 0.3,1.4 -2,0.5 z m -44.4,-9.5 c -0.7,-1.8 0.2,-3.9
1.3,-3.2 c 1.2,0.7 1.2,4.4 0,4.4 c -0.5,0 -1.1,-0.6 -1.3,-1.2 z m 87.9,-0.2 c -0.5,-1.4 1,-3.6 2.5,-3.6 c 1.3,0 0.9,2 -0.6,3.5 c -1.2,1.2 -1.5,1.2 -1.9,0.1
z m -50.6,-2 c -1.6,-1.9 -1.1,-2.9 0.8,-1.7 c 0.7,0.5 1.2,1.4 0.9,2.1 c -0.3,0.9 -0.8,0.7 -1.7,-0.4 z m -360.1,0 c 0,-0.2 0.7,-0.7 1.6,-1 c 0.8,-0.3
1.2,-0.2 0.9,0.4 c -0.6,1 -2.5,1.4 -2.5,0.6 z m -4.2,-2.8 c -0.9,-0.7 -1.8,-2.2 -2,-3.3 c -0.2,-1.2 -1.1,-1.9 -2.1,-1.9 c -1,0.1 -1.7,-0.5 -1.7,-1.7 c
0,-1.5 -0.8,-1.9 -3.2,-2 c -5.2,-0.2 -5.8,-0.3 -6.6,-1.5 c -1.1,-1.7 -4.4,-2.8 -8.8,-2.9 c -4.9,-0.1 -17.8,-6.2 -18,-8.5 c -0.1,-0.8 -0.2,-2 -0.3,-2.7 c
0,-0.6 -3.5,-4.6 -7.6,-9 c -4.1,-4.3 -7.5,-8.3 -7.5,-9 c 0,-1.1 -3,-3.3 -4.4,-3.3 c -1.4,0 -0.4,4.1 1.7,6.7 c 5.4,6.8 5.4,6.8 2.9,5.2 c -1.2,-0.8 -2.2,-1.8
-2.2,-2.2 c 0,-0.5 -1.1,-2.2 -2.5,-3.9 c -1.4,-1.6 -2.5,-3.6 -2.5,-4.5 c 0,-1.6 -3.8,-5.2 -5.7,-5.3 c -0.6,0 -2.3,-1.5 -3.73,-3.3 c -1.43,-1.7 -3.1,-3.8
-3.71,-4.5 c -1.84,-2.3 -2.81,-8.45 -1.94,-12.34 c 0.45,-2.01 0.46,-4.25 0,-4.96 c -1.23,-1.99 0,-3.17 1.81,-1.7 c 1.4,1.15 1.44,1.05 0.39,-0.93 c
-0.65,-1.22 -2.13,-2.73 -3.28,-3.35 c -1.5,-0.8 -1.91,-0.8 -1.42,0 c 0.38,0.61 0,1.1 -0.8,1.1 c -0.84,0 -1.77,-1.32 -2.15,-3.03 c -0.36,-1.67 -1.97,-4.01
-3.58,-5.19 c -1.6,-1.19 -2.91,-2.75 -2.91,-3.47 c 0,-0.72 -0.34,-1.23 -0.75,-1.14 c -1.28,0.3 -6.25,-2.44 -6.25,-3.44 c 0,-0.52 -0.7,-0.68 -1.55,-0.35 c
-0.86,0.33 -1.31,0.2 -1.01,-0.28 c 0.29,-0.48 -0.7,-1.33 -2.2,-1.89 c -1.51,-0.56 -3.64,-1.36 -4.74,-1.77 c -1.1,-0.41 -3.8,-0.88 -6,-1.05 c -2.2,-0.16
-6.33,-0.83 -9.18,-1.48 c -4.5,-1.04 -5.39,-0.98 -6.82,0.45 c -2.16,2.16 -4.64,2.16 -3.81,0 c 0.35,-0.9 0.22,-1.44 -0.28,-1.21 c -4.56,2.1 -6.41,3.35
-6.41,4.35 c 0,0.65 -1.15,1.7 -2.55,2.34 c -3.39,1.55 -3.69,1.48 -3,-0.69 c 0.52,-1.63 0.1,-1.83 -4.03,-1.68 c -3.13,0.12 -4.79,-0.27 -5.15,-1.2 c
-0.29,-0.76 -1.16,-1.14 -1.92,-0.85 c -0.77,0.29 -2.34,-0.41 -3.49,-1.56 c -2.523,-2.52 -1.21,-3.82 3.89,-3.84 c 2.7,0 3.25,-0.4 3.25,-2.27 c 0,-2.1
-0.36,-2.23 -5.5,-1.91 c -3.519,0.22 -5.5,-0.1 -5.5,-0.75 c 0,-1.17 1.373,-1.38 7.25,-1.11 c 5.05,0.23 4.76,-1.63 -0.48,-3.04 l -4.23,-1.14 l 2.98,-1.62 c
4.78,-2.6 12.98,-3.91 19.28,-3.08 c 3.13,0.41 9.75,0.98 14.7,1.26 c 4.95,0.28 10.8,0.82 13,1.2 c 5.24,0.9 9.67,0.89 17,0 c 3.3,-0.41 6.9,-0.69 8,-0.62 c
1.1,0.1 4.7,0.26 8,0.41 c 3.3,0.15 8.12,0.64 10.72,1.09 c 4.1,0.69 4.8,0.57 4.8,-0.81 c 0,-0.89 -1.1,-2.59 -2.5,-3.77 c -1.3,-1.18 -2.2,-2.52 -1.9,-2.99 c
0.8,-1.35 -2.9,-0.92 -5.62,0.65 c -2.91,1.67 -4.93,1.83 -6.94,0.56 c -1.19,-0.75 -1.21,-1.18 -0.12,-2.48 c 1.46,-1.77 12.98,-2.28 14.68,-0.66 c 1.2,1.22
12,3.16 13.8,2.48 c 0.8,-0.3 1.7,-0.1 2.1,0.53 c 1,1.67 3.5,1.29 2.9,-0.43 c -1,-2.57 3.1,-1.74 4.6,0.92 c 0.7,1.32 2.2,2.66 3.3,2.96 c 2.7,0.69 1.6,1.86
-2,2.11 c -5.4,0.38 -5.8,0.68 -2.3,2.01 c 4.9,1.9 17,1.96 17,0.1 c 0,-0.78 -0.6,-1.67 -1.2,-1.98 c -0.7,-0.31 -0.4,-0.43 0.7,-0.27 c 1.1,0.16 1.9,0.89
1.7,1.63 c -0.2,0.74 0,1.99 0.3,2.79 c 0.4,1.15 1,0.97 3,-0.9 c 3.1,-2.94 3.1,-3.26 -0.1,-4.69 c -1.4,-0.64 -2.2,-1.62 -1.9,-2.16 c 1.2,-1.92 4,-0.95
7.4,2.51 c 3.4,3.51 5.1,4.34 5.1,2.49 c 0,-1.81 1.8,-1.04 2.3,1 c 0.6,2.512.5,2.5 5.6,0 c 3,-2.54 2.1,-4.97 -1.9,-4.97 c -1.6,0 -3,-0.45 -3,-1 c 0,-0.55
-0.7,-1 -1.5,-1 c -1.8,0 -1.9,-1.17 -0.3,-2.8 c 1.3,-1.31 4.9,-1.65 4.7,-0.45 c -0.3,2.06 0.2,3.25 1.6,3.25 c 0.8,0 1.5,-0.43 1.5,-0.96 c 0,-1.65 4.1,-3.24
6.6,-2.6 c 1.4,0.34 2.2,1.06 1.9,1.59 c -0.3,0.53 0.1,0.97 0.9,0.97 c 0.9,0 1.6,-0.67 1.6,-1.5 c 0,-1.87 -0.2,-1.89 4.8,0.51 c 2.3,1.11 6.5,2.55 9.3,3.2 c
3.4,0.78 5.6,1.97 6.6,3.49 c 0.9,1.26 2.1,2.3 2.9,2.3 c 0.7,0 3.2,0.74 5.4,1.63 c 3,1.2 3.8,1.94 3,2.75 c -0.8,0.81 -1.3,0.79 -1.8,-0.1 c -0.4,-0.64
-2.1,-1.32 -3.7,-1.49 c -3.7,-0.4 -4.2,2.15 -0.7,3.66 c 3,1.34 2.8,2.86 -0.4,2.25 c -1.8,-0.36 -2.4,-0.12 -2,0.89 c 0.8,2.01 -1,1.69 -7,-1.22 c -3.6,-1.75
-5.1,-3.04 -4.7,-4 c 0.3,-0.77 1.2,-1.41 2,-1.41 c 0.8,0 1.3,-0.72 1.1,-1.72 c -0.4,-2.22 -12.8,-7.53 -14.4,-6.19 c -0.6,0.52 -1.9,0.66 -2.8,0.32 c
-3.1,-1.19 -4.7,0.24 -3.6,3.19 c 1.3,3.35 0.8,3.86 -3.6,3.57 c -2.5,-0.17 -4,0.39 -5.7,2.14 c -1.2,1.31 -3.5,2.69 -5,3.08 c -3.1,0.74 -4.4,1.66 -8.3,5.55 c
-2.8,2.79 -2.9,6.73 -0.1,6.27 c 1.1,-0.19 1.7,0.34 1.7,1.5 c 0,1.44 0.9,1.81 4.5,1.88 c 2.4,0.1 5,0.62 5.8,1.25 c 0.8,0.64 3.5,1.44 6.1,1.79 c 3.8,0.54
4.6,0.99 4.6,2.78 c 0,2.54 3.2,5.59 5.9,5.59 c 2.4,0 3.1,-1.76 2,-4.78 c -0.7,-1.9 -0.5,-2.44 1.6,-3.23 c 3.6,-1.37 4.3,-3.93 1.6,-6.07 c -1.2,-1 -1.7,-2.04
-1.2,-2.39 c 0.6,-0.33 0.8,-1.94 0.4,-3.57 c -0.5,-2.89 -0.5,-2.95 2.8,-2.39 c 8.9,1.5 11.9,2.81 11.9,5.13 c 0,3.17 4.4,4.18 8.3,1.92 c 2.9,-1.62 3.1,-1.6
4.8,0.3 c 1.1,1.1 1.9,2.58 1.9,3.29 c 0.1,1.72 3.6,4.2 8.3,5.72 c 2,0.67 3.7,1.75 3.7,2.4 c -0.1,2.14 -7.4,4.67 -13.6,4.67 c -6.3,0 -11,1.54 -11.9,3.86 c
-0.3,0.88 0,1.17 0.9,0.81 c 0.8,-0.3 3.2,-0.79 5.3,-1.07 c 2.1,-0.29 3,-0.28 2.1,0 c -2,0.59 -2.3,1.94 -0.8,2.89 c 1.8,1.1 1.1,3.5 -1,3.5 c -3.8,0 -9,2.85
-10,5.45 c -0.7,1.84 -1.7,2.55 -3.6,2.55 c -1.7,0 -2.8,0.64 -3.1,1.99 c -0.3,1.07 -0.9,1.67 -1.4,1.37 c -0.5,-0.3 -0.9,0.2 -0.9,1 c 0,1 -0.6,1.3 -1.7,0.9 c
-1.3,-0.5 -1.5,-0.1 -1,2.4 c 0.7,3.5 -0.1,4.8 -5.5,8.8 c -4.2,3 -4.6,4.8 -2.3,10.2 c 2.5,5.8 0.1,6.4 -2.7,0.7 c -2.4,-5.2 -3.3,-5.6 -11.3,-5.6 c -2.2,0
-4.1,0.5 -4.3,1 c -0.2,0.6 -2.1,0.8 -4.3,0.5 c -4.5,-0.6 -10.8,2.1 -11,4.7 c 0,0.8 -0.3,3.4 -0.5,5.7 c -0.6,5.2 2.5,12 5.9,12.8 c 3.4,0.8 8.1,-0.9 9.2,-3.3
c 0.9,-1.9 5.1,-3.9 6.2,-2.8 c 0.3,0.2 -0.2,1.5 -1,2.8 c -0.8,1.2 -1.8,3.9 -2.1,5.8 l -0.6,3.5 l 5.2,0 l 5.3,0 l -0.3,4.4 c -0.2,3 0.3,4.9 1.4,6.2 c 2,2.2
1.5,2.5 -0.8,0.7 z m 7.1,-65.46 c 1.3,-0.91 3.8,-1.98 5.5,-2.39 l 3.1,-0.75 l -2.9,-0.1 c -1.6,0 -3.7,0.57 -4.6,1.4 c -0.9,0.82 -2.9,1.59 -4.3,1.71 c
-1.5,0.13 -2.7,0.58 -2.7,1.01 c 0,1.36 3.5,0.85 5.9,-0.88 z m -12.7,-1.89 c -0.2,-1.02 0.4,-2.43 1.4,-3.14 c 2.2,-1.6 1.3,-2.72 -1.5,-1.83 c -1.6,0.5
-2.1,1.49 -2.1,4.17 c 0,2.38 0.4,3.38 1.3,3.08 c 0.6,-0.24 1,-1.27 0.9,-2.28 z m 9.8,-2.06 c 0,-1.05 0.5,-1.4 1.6,-1 c 1,0.39 1.4,0.15 1.2,-0.64 c
-0.4,-1.08 -7.8,-3.05 -7.8,-2.06 c 0,0.21 0.7,1.49 1.6,2.85 c 1.9,2.82 3.4,3.21 3.4,0.85 z m -6,-5.57 c 0,-0.42 -1.3,-1.45 -2.9,-2.28 c -2.6,-1.34
-3.3,-1.34 -6.6,0 c -2,0.83 -3.4,1.83 -3.1,2.23 c 0.6,0.97 12.6,1.01 12.6,0 z m -25,-10.7 c 0,-1.28 -2.9,-3.51 -3.7,-2.79 c -0.7,0.73 1.5,3.67 2.8,3.67 c
0.5,0 0.9,-0.39 0.9,-0.88 z m -31.5,-18.12 c 1.6,-0.69 1.7,-0.87 0.3,-0.93 c -0.9,0 -2.3,-0.32 -3.1,-0.63 c -0.8,-0.3 -1.7,0.15 -2,1 c -0.7,1.74 1.5,1.99
4.8,0.56 z m -12.7,-8.5 c 4,-0.53 4,-0.63 0.3,-1.51 c -2.2,-0.52 -4.08,-0.39 -5.26,0.34 c -2.46,1.54 -2.35,2.97 0.16,2.17 c 1.11,-0.35 3.2,-0.8 4.8,-1 z m
22.6,-4.41 c -1.2,-1.14 -13.4,-1.96 -13.4,-0.9 c 0,0.44 2.4,0.82 5.2,0.83 c 2.9,0 6,0.43 6.8,0.94 c 1.7,1.08 2.8,0.42 1.4,-0.87 z m 455.4,105.41 c -0.7,-0.8
0.3,-5.4 1.3,-6.1 c 1.6,-1 2.1,2.5 0.6,4.5 c -0.7,1.2 -1.6,1.9 -1.9,1.6 z m -382.8,-7.5 c 0,-0.5 0.6,-1 1.4,-1 c 0.8,0 1.8,0.5 2.1,1 c 0.3,0.6 -0.3,1 -1.4,1
c -1.2,0 -2.1,-0.4 -2.1,-1 z m 360,0 c 0,-0.5 0.7,-1 1.6,-1 c 0.8,0 1.2,0.5 0.9,1 c -0.3,0.6 -1,1 -1.6,1 c -0.5,0 -0.9,-0.4 -0.9,-1 z m -370.7,-3.5 c
-1.8,-0.8 -3.3,-1.6 -3.3,-1.9 c 0,-0.6 5.1,1.4 6.5,2.6 c 1.3,1.1 0.5,1 -3.2,-0.7 z m 393.7,-4.5 c 0,-0.8 0.5,-2.2 1,-3 c 0.9,-1.3 1,-1.3 1,0 c 0,0.8
-0.5,2.2 -1,3 c -0.9,1.3 -1,1.3 -1,0 z m 20.3,-19 c 0.1,-1.1 0.5,-2 0.9,-2 c 1.1,0 1,2.8 -0.1,3.5 c -0.6,0.3 -0.9,-0.4 -0.8,-1.5 z m 4.8,-3.9 c -0.8,-0.6
-0.9,-1.1 -0.3,-1.5 c 0.6,-0.3 1.4,-0.1 1.7,0.5 c 0.9,1.4 0.2,2 -1.4,1 z m 5.1,-0.6 c 0.2,-1.1 1.3,-2.5 2.6,-3.1 c 3.5,-1.7 6.2,-4.6 6.2,-6.6 c 0,-0.97
0.7,-1.8 1.5,-1.8 c 1.7,0 2,2.5 0.5,3.5 c -0.5,0.3 -1,1.7 -1,2.9 c 0,1.7 -0.9,2.7 -3,3.6 c -1.7,0.7 -3.3,1 -3.7,0.7 c -0.3,-0.4 -1.2,0.1 -2,1.1 c -1.3,1.6
-1.4,1.6 -1.1,-0.3 z m -243.2,-5.5 c -1.2,-0.8 -1.1,-1 0.8,-1 c 1.2,0 2.2,0.5 2.2,1 c 0,1.3 -1.1,1.3 -3,0 z m -366.8422,-5 c 0,-1.38 0.227,-1.94
0.5044,-1.25 c 0.2774,0.69 0.2774,1.85 0,2.45 c -0.2774,0.7 -0.5044,0.2 -0.5044,-1.2 z m 356.8422,0.1 c 0,-1.17 0.5,-2.1 1,-2.1 c 0.6,0 1,0.65 1,1.44 c
0,0.76 -0.4,1.76 -1,2.06 c -0.5,0.3 -1,-0.3 -1,-1.4 z m 266.2,-5.95 c -0.7,-0.44 -1,-1.54 -0.6,-2.43 c 0.6,-1.56 1.6,-1.35 5.4,1.08 c 0.5,0.32 -2.1,2.17
-3,2.17 c -0.3,0 -1.1,-0.37 -1.8,-0.82 z m -398.6,-13.15 c 1.6,-3.09 3.1,-4.19 2,-1.47 c -0.4,1.1 0.3,1.7 2.4,2.12 c 4.5,0.9 3.6,2.35 -1.4,2.35 l -4.4,0 l
1.4,-3 z m 398.7,-3.19 c -0.1,-5.3 1,-5.42 2.1,-0.22 c 0.5,2.01 0.2,3.47 -0.6,4.16 c -1,0.86 -1.3,0 -1.5,-3.94 z m -623.1422,-0.81 c 0,-1.38 0.227,-1.94
0.5044,-1.25 c 0.2774,0.69 0.2774,1.81 0,2.5 c -0.2774,0.69 -0.5044,0.12 -0.5044,-1.25 z m 332.3422,-0.73 c -0.3,-0.95 -0.1,-1.89 0.4,-2.08 c 1.8,-0.59
1.2,-2.55 -1.4,-5.04 c -2.6,-2.48 -3.2,-4.61 -1.5,-5.65 c 0.6,-0.34 1,-0.14 1,0.44 c 0,0.58 1,1.06 2.2,1.06 c 1.7,0 1.9,0.27 1,1.2 c -1.4,1.42 -1.6,4.18
-0.2,3.33 c 1.2,-0.74 6.1,3.47 5.4,4.62 c -0.3,0.47 0.2,0.85 1,0.85 c 1,0 1.3,0.57 1,1.5 c -0.9,2.21 -8,2.03 -8.9,-0.23 z m -11.1,-2.25 c 0,-1.27 0.7,-2.02
1.8,-2.02 c 1,0 1.8,-0.45 1.8,-1 c 0,-2.18 1.6,-0.84 1.8,1.5 c 0.1,1.58 -0.3,2.5 -1.2,2.5 c -0.8,0 -2.1,0.24 -2.8,0.52 c -0.9,0.34 -1.4,-0.19 -1.4,-1.5 z m
36.1,-4.98 c -0.8,-1.37 -0.1,-2.4 1.4,-1.89 c 0.6,0.2 0.7,0.91 0.2,1.71 c -0.6,1 -1,1.05 -1.6,0.18 z m -107.8,-11.14 c -1,-0.57 -2.3,-0.84 -3,-0.6 c
-1.8,0.64 -6.6,-2.42 -7.3,-4.62 c -0.3,-1.03 -1.5,-2.73 -2.5,-3.78 c -2.2,-2.24 -2.5,-4.35 -0.5,-3.56 c 1,0.35 1.8,-0.4 2.4,-2.15 c 1.2,-3.63 -1.1,-7.19
-4.7,-7.19 c -1.8,0 -3.2,-0.94 -4.6,-2.99 c -2.9,-4.28 -8,-6.01 -18,-6.01 c -4.7,0 -8.5,-0.38 -8.5,-0.86 c 0,-0.47 -1.5,-1.29 -3.2,-1.84 c -3.1,-0.94
-3,-1.02 3.5,-1.76 c 6.8,-0.78 9.1,-2.04 6.6,-3.64 c -0.9,-0.57 0.3,-0.87 3.4,-0.88 c 2.6,0 4.7,-0.45 4.7,-0.99 c 0,-0.58 4.4,-0.85 11,-0.68 c 6.1,0.16
11.2,0.1 11.5,-0.19 c 0.3,-0.27 3.1,-0.59 6.2,-0.72 c 3.2,-0.14 8.7,-0.54 12.3,-0.9 c 9.1,-0.91 30.3,-0.68 31,0.33 c 0.3,0.47 1.3,0.73 2.3,0.58 c 1,-0.16
1.7,0.36 1.7,1.22 c 0,1.08 0.7,1.35 2.8,0.97 c 1.5,-0.28 5.4,-0.78 8.7,-1.11 c 7,-0.69 5.6,0.85 -1.8,1.92 c -3.5,0.49 -4.7,1.08 -4.3,2.02 c 0.2,0.75
-0.4,1.55 -1.5,1.84 c -2.1,0.56 -2.6,2.65 -0.6,2.76 c 0.6,0 0.4,0.4 -0.7,0.81 c -1.7,0.68 -1.7,0.86 -0.2,2.35 c 1.7,1.72 2.2,4.28 0.7,3.33 c -1.8,-1.08
-4.1,0.67 -4.1,3.05 c 0,1.31 0.5,2.39 1.1,2.39 c 0.5,0 0.8,0.43 0.4,0.96 c -0.3,0.61 -1.5,0.55 -3,-0.16 c -3.1,-1.4 -4.7,-0.12 -2.1,1.72 c 1.7,1.24 1.5,1.41
-2,2.09 c -2.2,0.4 -5.7,0.77 -7.9,0.81 c -2.3,0 -4.8,0.82 -6,1.87 c -2,1.8 -2.9,2.09 -9.8,3.21 c -4.4,0.71 -8.6,4.61 -10.1,9.33 c -0.8,2.43 -1.3,2.57
-3.9,1.07 z m 42.3,-24.46 c 0,-0.24 -0.7,-0.44 -1.6,-0.44 c -0.8,0 -1.2,0.46 -0.9,1.02 c 0.6,0.92 2.5,0.48 2.5,-0.58 z m -123.5,18.56 c -1.1,-1.74 0.4,-2.75
3.1,-2.22 c 2.6,0.48 2.6,0.59 0.9,1.87 c -2.2,1.61 -3.2,1.69 -4,0.35 z m 128.5,-0.94 c 0,-1.49 1.3,-1.96 7.3,-2.59 c 6.1,-0.65 8.6,0.86 4.2,2.53 c -3.3,1.27
-11.5,1.31 -11.5,0.1 z m -111.7,-0.66 c 0.3,-0.34 1.2,-0.37 1.9,-0.1 c 0.8,0.32 0.5,0.55 -0.6,0.6 c -1.1,0 -1.7,-0.19 -1.3,-0.52 z m 1,-6 c 0.3,-0.34
1.2,-0.37 1.9,-0.1 c 0.8,0.32 0.5,0.55 -0.6,0.6 c -1.1,0 -1.7,-0.19 -1.3,-0.52 z m -186.0004,-5.4 c 0,-3.02 0.1874,-4.26 0.4166,-2.75 c 0.2291,1.51
0.2291,3.99 0,5.5 c -0.2292,1.51 -0.4166,0.28 -0.4166,-2.75 z m 446.5004,-2.38 c -2,-1.46 -1.4,-2.62 1.3,-2.62 c 0.9,0 1.9,0.9 2.2,2 c 0.6,2.3 -1,2.57
-3.5,0.62 z m -305.5,-0.37 c -1.9,-0.6 -1.6,-3.25 0.3,-3.25 c 0.8,0 2.2,0.63 2.9,1.39 c 1.2,1.19 1.2,1.46 -0.3,1.84 c -0.9,0.24 -2.3,0.26 -2.9,0 z m
8.3,-2.08 c -0.3,-0.53 0.1,-1.23 1,-1.57 c 2.5,-0.95 6.4,-0.7 6.4,0.4 c 0,0.55 -0.9,1 -1.9,1 c -1.1,0 -2.6,0.26 -3.4,0.57 c -0.8,0.31 -1.8,0.13 -2.1,-0.4 z
m 300.4,-1.64 c 0,-1.08 5.8,-3.33 10,-3.89 l 4.5,-0.59 l -4.9,1.4 c -2.7,0.78 -5.3,1.89 -5.9,2.48 c -1.1,1.07 -3.7,1.49 -3.7,0.6 z m -449.9212,-2.95 c
-0.0434,-1.05 0.193,-1.64 0.5253,-1.31 c 0.3323,0.33 0.3678,1.2 0.079,1.92 c -0.3192,0.8 -0.5562,0.56 -0.6042,-0.61 z m 111.9212,-0.58 l -2.5,-0.8 l
2.5,-0.1 c 1.4,0 3.2,0.36 4,0.89 c 1.3,0.86 1.3,0.96 0,0.89 c -0.8,-0.1 -2.6,-0.45 -4,-0.89 z m 10.4,-0.47 c -1,-0.81 -1.4,-1.48 -0.7,-1.5 c 0.6,0 1.5,0.46
1.9,1.06 c 0.3,0.6 1.5,0.86 2.5,0.59 c 1.1,-0.27 1.7,-0.1 1.3,0.41 c -0.8,1.33 -2.8,1.11 -5,-0.56 z m 26.9,0.87 c 0.3,-0.34 1.2,-0.37 1.9,-0.1 c 0.8,0.32
0.5,0.55 -0.6,0.6 c -1.1,0 -1.7,-0.19 -1.3,-0.52 z m 6.3,-1.01 c -0.5,-1.25 -0.2,-1.43 1.1,-0.81 c 1,0.44 6.2,0.88 11.6,0.98 c 13.8,0.26 13.4,1.44 -0.5,1.44
c -9.7,0 -11.7,-0.26 -12.2,-1.61 z m 459.2,0.44 c 0.8,-0.86 1.7,-0.88 3.4,-0.1 c 2.2,1.04 2.1,1.11 -1.2,1.17 c -2.6,0.1 -3.1,-0.21 -2.2,-1.1 z m
-473.8,-0.83 c 0,-0.55 0.7,-1 1.5,-1 c 0.8,0 1.5,0.45 1.5,1 c 0,0.55 -0.7,1 -1.5,1 c -0.8,0 -1.5,-0.45 -1.5,-1 z m 578.2,-2 c 0,-1.38 0.2,-1.94 0.5,-1.25 c
0.2,0.69 0.2,1.81 0,2.5 c -0.3,0.69 -0.5,0.12 -0.5,-1.25 z m -554.4,-0.21 c 1.2,-0.6 2.2,-1.75 2.2,-2.56 c 0,-1.16 -0.9,-1.32 -4.6,-0.77 c -2.5,0.37
-5.1,0.26 -5.7,-0.25 c -0.7,-0.51 -2.5,-1.26 -4.2,-1.65 c -2.7,-0.64 -2.8,-0.83 -1.1,-1.74 c 1.7,-0.98 3.8,-0.82 10.1,0.78 c 2.3,0.58 2.7,0.42 2.2,-0.9 c
-0.4,-1.02 0,-1.8 1.2,-2.17 c 4.5,-1.43 38.3,-2.56 44.6,-1.49 l 4,0.68 l -3.6,0.14 c -2,0.1 -6.2,1.04 -9.4,2.14 c -3.2,1.1 -7.3,2 -9.1,2 c -2.3,0 -3.7,0.62
-4.4,2 c -0.6,1.1 -2,2 -3.1,2 c -1.1,0 -2.2,0.61 -2.5,1.35 c -0.4,0.99 -3,1.38 -9.7,1.44 c -7.3,0.1 -8.7,-0.13 -6.9,-1 z m 2.6,-6.88 c -0.3,-0.52 -1,-0.68
-1.5,-0.36 c -0.5,0.32 -0.7,1.01 -0.3,1.54 c 0.3,0.52 1,0.68 1.5,0.36 c 0.5,-0.32 0.7,-1.01 0.3,-1.54 z m 203.4,5.13 c -0.8,-1.35 -1.9,-1.8 -3.4,-1.42 c
-1.2,0.3 -2.4,0.15 -2.7,-0.34 c -0.5,-0.7 8.7,-0.99 12.7,-0.41 c 0.9,0.13 -3.7,4.13 -4.8,4.13 c -0.3,0 -1.1,-0.88 -1.8,-1.96 z m 171.5,-1.64 c 0.3,-0.34
1.2,-0.37 1.9,-0.1 c 0.8,0.32 0.5,0.55 -0.6,0.6 c -1.1,0 -1.7,-0.19 -1.3,-0.52 z m -10.6,-1.12 c -1.5,-0.23 -2.7,-0.8 -2.7,-1.27 c 0,-0.48 -0.8,-1.07
-1.8,-1.32 c -0.9,-0.25 -0.1,-0.51 1.9,-0.57 c 2.5,-0.1 3.9,0.38 4.3,1.49 c 0.4,1.03 1.4,1.43 2.6,1.1 c 1.1,-0.29 2,-0.11 2,0.38 c 0,0.92 -1.2,0.96
-6.3,0.19 z m -145.4,-0.97 c 0.9,-0.25 2.5,-0.25 3.5,0 c 0.9,0.25 0.1,0.46 -1.8,0.46 c -1.9,0 -2.7,-0.21 -1.7,-0.46 z'/>"

      #--   Inclut la grille de coordonnees
      if {$grid == 1} {
         append htm [::satellites::getGrid $width $height $coef]
      }

      #--   Affiche un satellite
      lassign [::satellites::getSatCoord $revperday $tsyn $coef $private(tu) $private(speed)] satPath duration timeStart timeEnd
      if {$satPath ne "M"} {
         append htm "<path id='satpath' d='$satPath' style='fill:none;stroke:#EDC9AF;stroke-width:1.5'/>"
         append htm "<g>"
         append htm "<circle cx='0' cy='0' r='4' style='stroke:black;stroke-width:0.1;fill:#FF0000'/>"
         append htm "<animateMotion begin='0s' dur='${duration}s' repeatDur='indefinite' rotate='auto'>"
         append htm "<mpath xlink:href='#satpath'/>"
         append htm </animateMotion>"
         append htm "</g>"
      }

      #--   Inclut le Soleil et la Lune
      if {$sunmoon == 1} {

         append htm "<g transform='scale($coef)'>"

         lassign [::satellites::getAstre Sun $private(tu) $private(gps) ] sunCoord pathTerm
         lassign $sunCoord xsun ysun
         lassign [::satellites::getAstre Moon $private(tu) $private(gps) ] moonCoord
         lassign $moonCoord xcmoon ycmoon ill

         if {$pathTerm ne ""} {
            append htm "<path id='nuit' d='$pathTerm' style='fill:black;fill-opacity:0.6' filter='url(#night)'/>"
         }

         if {$sunCoord ne ""} {
            append htm "<circle cx='$xsun' cy='$ysun' r='5' fill='yellow' filter='url(#sun)'/>"
         }

         if {$moonCoord ne ""} {
            set radius 4
            set xmoonStart [expr { $xcmoon+$radius }]
            set ymoonStart [expr { $ycmoon+$radius }]
            #--   un cercle gris
            append htm "<circle cx='$xcmoon' cy='$ycmoon' r='$radius' style='fill:#B6B6B4'/>"
            #-- un path gris
            append htm "<use xlink:href='#reliefLune' transform='translate($xmoonStart,$ymoonStart) scale(0.25) rotate(180)' fill='#FFFFFF'/>"
            set xradius [format "%0.2f" [expr { $radius*(1-2*$ill) }]]
            set delta [expr { $xcmoon-$xsun }]
            if {$delta > 0 && $delta <= 181} {
               if {$xradius > 0} {
                  set d "M $xcmoon,$ymoonStart a 4 4 0 0 1 0,-8 a $xradius 4 0 1 1 0,8"
               } else {
                  set d "M $xcmoon,$ymoonStart a 4 4 0 0 1 0,-8 a $xradius 4 0 1 0 0,8"
               }
            } else {
               if {$xradius < 0} {
                  set d "M $xcmoon,$ymoonStart a 4 4 0 1 0 0,-8 a $xradius 4 0 0 1 0,8"
               } else {
                  set d "M $xcmoon,$ymoonStart a 4 4 0 1 0 0,-8 a $xradius 4 0 1 0 0,8"
               }
            }
            #--  un path noir a 2 ellipses
            append htm "<path d='$d' style='fill:#000000;fill-opacity:0.4;stroke:#000000;stroke-width:0.05'/>"
         }

         append htm "</g>"
      }

      #--   Affiche les coordonnees
      if {$grid == 1} {
         append htm [::satellites::getText $width $height $coef $exc]
      }

      #--   Affiche le titre
      regsub "&" $selectedSat "and" selectedSat
      if {$timeStart ne "$timeEnd"} {
         set texte "Orbit of satellite $selectedSat from $timeStart to $timeEnd UT"
      } else {
         set texte "Orbit of satellite $selectedSat at $timeStart UT"
      }
      append htm "<text x='360' y='330'>$texte</text>"

      #--   Marque la position de l'observateur d'une croix blanche
      lassign [::satellites::getXYCoord $gpsObs] xobs yobs
      append htm "<path d='M [expr { $xobs*$coef }],[expr { ($yobs*$coef-6) }] v 12 m -6,-6 h 12' style='stroke:white'/>"

      #--   Trace le cadre final
      append htm "<rect x='0' y='0' width='$width' height='$height' style='stroke:black;stroke-width:5;fill:none'/>"

      append htm "</g>"
      append htm "Sorry, your browser does not support SVG."
      append htm "</svg>"

      set fid [open $svgfile w]
      puts $fid $htm
      close $fid
   }

#------------------------------------------------------------
#  brief    créé et ouvre la page html avec image et tableau
#
proc ::satellites::createOrbitHtm { } {
   variable private
   global conf caption

   lassign $private(result) date satelName orbtype1 orbtype2 fracill mag \
      elongDeg inclinDeg revperday periapogee tsyn speed gpsSat \
      ra dec raapp decapp ha az elev

   #--   Definit le nom de l'image
   set rep $::audace(rep_images)
   set img world.svg
   set svgfile [file join $rep $img]

   ::satellites::writeSVGOrbit [list $svgfile $revperday $tsyn]

   #--   Parametres orbitaux
   set toDisplay1 [list \
      "$caption(satellites,onglet_orbit)" "$orbtype2" \
      "$caption(satellites,inclin)" "$inclinDeg &deg;" \
      "$caption(satellites,periapo)" "$periapogee km" \
      "$caption(satellites,revperday)" $revperday \
      "$caption(satellites,tsyn)" $tsyn \
   ]

   #--   Donnees dynamiques
   set toDisplay2 [list \
      "$caption(satellites,zenpos)" "$gpsSat" \
      "$caption(satellites,elong)" "$elongDeg &deg;" \
      "$caption(satellites,ill)" "$fracill" \
      "$caption(satellites,mag)" "$mag" \
      "$caption(satellites,speed)" "$speed &deg;/sec" \
   ]

   #--   Donnees de pointage
   set toDisplay3 [list \
      "$caption(satellites,ra) J2000.0" "$ra" \
      "$caption(satellites,dec) J2000.0" "$dec" \
      "$caption(satellites,ra)" "$raapp" \
      "$caption(satellites,dec)" "$decapp" \
      "$caption(satellites,ha)" "$ha" \
      "$caption(satellites,az)" "$az &deg;" \
      "$caption(satellites,elev)" "$elev &deg;" \
   ]

   puts -nonewline "Content-type: text/html\n\n"
   append html "<!DOCTYPE html> <html lang=\"fr\">"
   append html "<head>"
   append html "<meta charset=\"utf-8\" />"
   append html "<meta name=\"author\" content=\"AudeLA software\">"
   if {$private(zoom) < 1.0} {
      append html "<style>body{margin-left:10px;text-align:left;background:#e6e6fa;font-size:10px}header{font-size:15px}table{float:left;border:1px solid \
         black;margin:5px}footer{clear:both;height:20px;}</style>"
   } else {
      append html "<style>body{margin-left:10px;text-align:left;background:#e6e6fa;serif;font-size:12px}header{font-size:20px}table{float:left;border:1px solid \
         black;margin:5px}footer{clear:both;height:20px;}</style>"
   }
   append html "<title>$caption(satellites,satellite)</title>"
   append html "</head>"
   append html "<body>"
   append html "<header>$caption(satellites,satellite) : $satelName - $caption(satellites,date) $date</header>"
   append html "<div>"
   append html "<p><image src=\"$img\"/></p>"
   append html "<table><tbody>"
   foreach {title val} $toDisplay1 {
        append html "<tr><th>$title</th><td>$val<td></tr>"
   }
   append html "</tbody></table>"
   append html "<table><tbody>"
   foreach {title val} $toDisplay2 {
      append html "<tr><th>$title</th><td>$val<td></tr>"
   }
   append html "</tbody></table>"
   append html "<table><tbody>"
   foreach {title val} $toDisplay3 {
      append html "<tr><th>$title</th><td>$val<td></tr>"
   }
   append html "</tbody></table>"
   append html "</div>"
   set date [clock format [clock seconds] -format "%Y-%m-%dT%H:%M:%S" -timezone :UTC ]
   set year [lindex [split $date "-"] 0]
   if {$year eq "2015"} {
      append html "<footer>Copyright 2015  AudeLA software &nbsp;Page modified : $date</footer>"
   } else {
      append html "<footer>Copyright 2015 - $year  AudeLA software &nbsp;Page created : $date UTC</footer>"
   }
   append html "</body></html>"

   #--   Ecrit la page
   set dest [file join $::audace(rep_images) satel.htm]
   set f [open $dest w]
   puts $f $html
   close $f

   #--   Affiche la page
   exec $conf(editsite_htm) [file join file:///$dest] &
}

